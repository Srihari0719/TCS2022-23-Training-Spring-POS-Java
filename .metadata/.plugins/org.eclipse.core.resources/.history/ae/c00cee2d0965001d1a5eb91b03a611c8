/**
 * 
 */
package com.tcs.dao;

import java.sql.*;


/**
 * @author Administrator
 *
 */
public class UserDaoImp implements UserDaoInterface{
	
	ConnectionClass cc = new ConnectionClass();
	Connection conn = cc.connect();
	PreparedStatement pr = null;
	@Override
	public boolean userLogin(String username, String password, String role) {
		// TODO Auto-generated method stub
		boolean ul = false;
		String sql = "Select username,role,isApproved from Login";
		
		try {
			pr = conn.prepareStatement(sql);
			ResultSet rs = pr.executeQuery(sql);
			while(rs.next()) {
				System.out.println(rs.getString("username").equals(username) + rs.getString("role") + rs.getString("isApproved"));
				if(rs.getString("username").equals(username) && rs.getString("role").equalsIgnoreCase(role) && rs.getInt("isApproved")==1)
					ul = true;
				else
					ul = false;
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return ul;
	}
}
